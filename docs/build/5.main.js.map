{"version":3,"sources":["../../src/pages/activity-categories/activity-categories.module.ts","webpack:///./src/components/buttons-list/buttons-list.module.ts?24e2**","webpack:///./src/components/buttons-list/buttons-list.ts?816b**","../../src/pages/activity-categories/activity-categories.ts"],"names":[],"mappings":"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","file":"5.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ActivityCategoriesPage } from './activity-categories';\nimport {ButtonsListComponentModule} from \"../../components/buttons-list/buttons-list.module\";\n\n\n@NgModule({\n  declarations: [\n    ActivityCategoriesPage\n  ],\n  imports: [\n    IonicPageModule.forChild(ActivityCategoriesPage),\n    ButtonsListComponentModule\n  ],\n  exports: [\n    ActivityCategoriesPage\n  ]\n})\nexport class TopActivityCategoriesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activity-categories/activity-categories.module.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ButtonsListComponent } from './buttons-list';\n\n@NgModule({\n  declarations: [\n    ButtonsListComponent,\n  ],\n  imports: [\n    IonicPageModule.forChild(ButtonsListComponent),\n  ],\n  exports: [\n    ButtonsListComponent\n  ]\n})\nexport class ButtonsListComponentModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/buttons-list/buttons-list.module.ts","import {Component, EventEmitter, Input, Output} from '@angular/core';\n\n/**\n * Generated class for the ButtonsListComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'buttons-list',\n  templateUrl: 'buttons-list.html'\n})\nexport class ButtonsListComponent {\n\n  @Input('buttons') buttons: [any];\n  @Output() buttonClick = new EventEmitter();\n\n  constructor() {\n  }\n\n  onButtonClick(button) {\n    this.buttonClick.emit(button)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/buttons-list/buttons-list.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport {ActivityCategoryProvider} from \"../../providers/activity-category/activity-category\";\nimport {ActivityProvider} from \"../../providers/activity/activity\";\nimport {DifficultyLevelProvider} from \"../../providers/difficulty-level/difficulty-level\";\nimport {LoaderService} from \"../../providers/loader-service/loader-service\";\n\n@IonicPage()\n@Component({\n  selector: 'page-activity-categories',\n  templateUrl: 'activity-categories.html',\n})\nexport class ActivityCategoriesPage {\n  categories: any;\n  tests: any[];\n  parentCategoryId: string;\n  parentCategory: any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n              private activityCategoryProvider: ActivityCategoryProvider,\n              private activityProvider: ActivityProvider,\n              private difficultyLevelProvider: DifficultyLevelProvider, private loaderService: LoaderService) {\n    this.categories = this.navParams.get(\"categories\");\n\n    // if no categories passed as parameter, load top-level categories by default\n    // this.loaderService.showLoader();\n    if(this.categories == null) {\n      this.activityCategoryProvider.getTopLevelCategories().then(categories => {\n        this.categories = categories;\n        this.loaderService.hideLoader();\n      }).catch(error =>{\n        this.handleError(error);\n      });\n    } else {\n      this.parentCategoryId = this.navParams.get(\"parentCategoryId\");\n      this.activityCategoryProvider.getCategoryById(this.parentCategoryId).then(category => {\n        this.parentCategory = category;\n        this.loaderService.hideLoader();\n      }).catch(error =>{\n        this.handleError(error);\n      });\n    }\n  }\n\n  handleError(error) {\n    console.log(error);\n    this.loaderService.hideLoader();\n  }\n\n  getPageTitle() {\n    return this.parentCategory != null ?  this.parentCategory.title : \"Κατηγορίες δραστηριοτήτων\";\n  }\n\n\n  selectCategory(categoryButton: any):any {\n    // if the selected category has subcategories, get the subcategories and load the page again\n    this.loaderService.showLoader();\n    this.activityCategoryProvider.getRelationshipsForCategory(categoryButton.category_id).subscribe(categoryRelationships => {\n      if(categoryRelationships.subcategories.length > 0) {\n        this.getSubcategoriesAndLoadPage(categoryButton.category_id);\n      }\n      // else, if the selected has activities, get the activities and load the activities page\n      else if(categoryRelationships.activities.length > 0) {\n        this.getDifficultyLevelsForCategoryAndLoadPage(categoryButton.category_id);\n      }\n    }, error => {\n      this.handleError(error);\n    });\n  }\n\n  getDifficultyLevelsForCategoryAndLoadPage(categoryId: string):any {\n    this.activityCategoryProvider.getActivitiesForCategory(categoryId).subscribe(activitiesIds => {\n      if(activitiesIds != null) {\n        this.activityProvider.getActivitiesByIds(activitiesIds).subscribe(activities => {\n          console.log(activities);\n          this.getDifficultyLevelsForActivitiesAndLoadPage(activities, categoryId);\n        }, error => {\n          this.handleError(error);\n        });\n      }\n    }, error => {\n      this.handleError(error);\n    });\n  }\n\n  getDifficultyLevelsForActivitiesAndLoadPage(activities: any, categoryId) {\n    this.difficultyLevelProvider.getDifficultyLevelsForActivities(activities).then(difficultyLevels => {\n      // this.loaderService.hideLoader();\n      this.navCtrl.push(\"DifficultyLevelsPage\", {levels: difficultyLevels, categoryId: categoryId, activities: activities});\n    });\n  }\n\n  private getSubcategoriesAndLoadPage(categoryId: string):any {\n    this.activityCategoryProvider.getSubcategoriesForCategory(categoryId).then(subcategoriesIds => {\n      console.log(\"subcategoriesIds\",subcategoriesIds);\n      if(subcategoriesIds != null) {\n        this.activityCategoryProvider.getCategoriesByIds(subcategoriesIds).subscribe(subcategories => {\n          // this.loaderService.hideLoader();\n          this.navCtrl.push(\"ActivityCategoriesPage\", {categories: subcategories, parentCategoryId: categoryId})\n        });\n      } else {\n        this.loaderService.hideLoader();\n      }\n    });\n\n  }\n\n  goToHome() {\n    this.navCtrl.setRoot('HomePage');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activity-categories/activity-categories.ts"],"sourceRoot":""}