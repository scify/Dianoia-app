{"version":3,"sources":["../../src/pages/activity-categories/activity-categories.module.ts","../../src/components/buttons-list/buttons-list.module.ts","../../src/components/buttons-list/buttons-list.ts","../../src/pages/activity-categories/activity-categories.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ActivityCategoriesPage } from './activity-categories';\nimport {ButtonsListComponentModule} from \"../../components/buttons-list/buttons-list.module\";\nimport {TranslateModule} from \"@ngx-translate/core\";\n\n\n@NgModule({\n  declarations: [\n    ActivityCategoriesPage\n  ],\n  imports: [\n    IonicPageModule.forChild(ActivityCategoriesPage),\n    ButtonsListComponentModule,\n    TranslateModule.forChild()\n  ],\n  exports: [\n    ActivityCategoriesPage\n  ]\n})\nexport class TopActivityCategoriesPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activity-categories/activity-categories.module.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ButtonsListComponent } from './buttons-list';\n\n@NgModule({\n  declarations: [\n    ButtonsListComponent,\n  ],\n  imports: [\n    IonicPageModule.forChild(ButtonsListComponent),\n  ],\n  exports: [\n    ButtonsListComponent\n  ]\n})\nexport class ButtonsListComponentModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/buttons-list/buttons-list.module.ts","import {Component, EventEmitter, Input, Output} from '@angular/core';\n\n/**\n * Generated class for the ButtonsListComponent component.\n *\n * See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n * for more info on Angular Components.\n */\n@Component({\n  selector: 'buttons-list',\n  templateUrl: 'buttons-list.html'\n})\nexport class ButtonsListComponent {\n\n  @Input('buttons') buttons: [any];\n  @Output() buttonClick = new EventEmitter();\n\n  constructor() {\n  }\n\n  onButtonClick(button) {\n    this.buttonClick.emit(button)\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/buttons-list/buttons-list.ts","import {Component} from '@angular/core';\nimport {Events, IonicPage, NavController, NavParams, Platform} from 'ionic-angular';\nimport {ActivityCategoryProvider} from \"../../providers/activity-category/activity-category\";\nimport {LoaderService} from \"../../providers/loader-service/loader-service\";\nimport {TranslateService} from \"@ngx-translate/core\";\n\n@IonicPage()\n@Component({\n  selector: 'page-activity-categories',\n  templateUrl: 'activity-categories.html',\n})\nexport class ActivityCategoriesPage {\n  categories: any;\n  parentCategoryId: string;\n  parentCategory: any;\n  pageTitle: string = '';\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n              private activityCategoryProvider: ActivityCategoryProvider,\n              private loaderService: LoaderService, public events: Events,\n              public translate: TranslateService,\n              public platform: Platform) {\n    this.categories = this.navParams.get(\"categories\");\n  }\n\n  ionViewWillLoad() {\n    this.events.subscribe('lang_ready', (langCode) => {\n      this.setUpPageElements();\n    });\n    this.platform.ready().then(() => {\n      this.translate.get('app_name').subscribe(() => {\n        this.setUpPageElements();\n      });\n    });\n  }\n\n  setUpPageElements() {\n    this.pageTitle = this.translate.instant('activity_categories')\n    this.loaderService.showLoader();\n    this.parentCategoryId = this.navParams.get(\"parentCategoryId\");\n    if (this.parentCategoryId) {\n      this.initParentCategoryPage();\n    } else {\n      this.activityCategoryProvider.getTopLevelCategories().then(categories => {\n        this.categories = categories;\n        this.loaderService.hideLoader();\n      }).catch(error => {\n        this.handleError(error);\n      });\n    }\n  }\n\n  initParentCategoryPage() {\n    this.activityCategoryProvider.getCategoryById(this.parentCategoryId).then(category => {\n      this.parentCategory = category;\n      this.pageTitle = this.parentCategory != null ? this.parentCategory.title : this.translate.instant('activity_categories')\n      this.activityCategoryProvider.getSubcategoriesForCategory(this.parentCategoryId).then(subcategoriesIds => {\n        if (subcategoriesIds != null) {\n          this.activityCategoryProvider.getCategoriesByIds(subcategoriesIds).subscribe(subcategories => {\n            this.categories = subcategories;\n            this.loaderService.hideLoader();\n          });\n        } else {\n          this.loaderService.hideLoader();\n        }\n      });\n    }).catch(error => {\n      this.handleError(error);\n    });\n  }\n\n  ionViewWillUnload() {\n    this.events.unsubscribe('lang_ready');\n  }\n\n  handleError(error) {\n    console.error(error);\n    this.loaderService.hideLoader();\n  }\n\n  selectCategory(categoryButton: any): any {\n    // if the selected category has subcategories, get the subcategories and load the page again\n    this.activityCategoryProvider.getRelationshipsForCategory(categoryButton.category_id).subscribe(categoryRelationships => {\n      if (categoryRelationships.subcategories.length > 0) {\n        this.navCtrl.push(\"ActivityCategoriesPage\", {parentCategoryId: categoryButton.category_id})\n      }\n      // else, if the selected has activities, get the activities and load the activities page\n      else if (categoryRelationships.activities.length > 0) {\n        this.navCtrl.push(\"DifficultyLevelsPage\", {\n          categoryId: categoryButton.category_id\n        });\n      }\n    }, error => {\n      this.handleError(error);\n    });\n  }\n\n  goToHome() {\n    this.navCtrl.setRoot('HomePage');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activity-categories/activity-categories.ts"],"sourceRoot":""}