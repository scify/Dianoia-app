{"version":3,"sources":["../../src/pages/activity/activity.module.ts","../../src/pages/activity/activity.ts"],"names":[],"mappings":"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","file":"9.main.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ActivityPage } from './activity';\n\n@NgModule({\n  declarations: [\n    ActivityPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ActivityPage),\n  ],\n  exports: [\n    ActivityPage\n  ]\n})\nexport class ActivityPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activity/activity.module.ts","import { Component } from '@angular/core';\nimport {IonicPage, NavController, NavParams, Platform, ViewController} from 'ionic-angular';\nimport {ActivityProvider} from \"../../providers/activity/activity\";\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\nimport {AlertProvider} from \"../../providers/alert/alert\";\nimport {SocialSharing} from \"@ionic-native/social-sharing\";\nimport {NotificationProvider} from \"../../providers/notification/notification\";\n\n/**\n * Generated class for the ActivityPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-activity',\n  templateUrl: 'activity.html',\n})\nexport class ActivityPage {\n  activity: any;\n  dailyActivityCompleted: boolean = false;\n  allActivities: any = [];\n  activityUniqueId: string;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n              private activityProvider: ActivityProvider, private iab: InAppBrowser, private platform: Platform, private alert: AlertProvider, private socialSharing: SocialSharing,\n              private notificationProvider: NotificationProvider, private viewCtrl: ViewController) {\n    let activityObj = this.navParams.get(\"activity\");\n    console.log(\"activityObj\", activityObj);\n    if(!activityObj) {\n      this.activityProvider.getRandomActivity().then(randomActivity => {\n        this.activity = randomActivity;\n      });\n    } else {\n      this.activity = activityObj;\n    }\n    this.allActivities = this.navParams.get(\"allActivities\");\n    this.activityUniqueId = this.navParams.get(\"uniqueId\");\n\n    console.log(platform.is('cordova'));\n  }\n\n  nextActivity() {\n    for (let i = 0; i < this.allActivities.length; i++) {\n      if (this.activityUniqueId == 'title') {\n        if (this.activity.title == this.allActivities[i].title) {\n          this.loadNextActivity(this.allActivities[i + 1], 'forward');\n          break;\n        }\n      } else if (this.activityUniqueId == 'id') {\n        if (this.activity.id == this.allActivities[i].id) {\n          this.loadNextActivity(this.allActivities[i + 1], 'forward');\n          break;\n        }\n      }\n    }\n  }\n\n  previousActivity() {\n    for (let i = 0; i < this.allActivities.length; i++) {\n      if (this.activityUniqueId == 'title') {\n        if (this.activity.title == this.allActivities[i].title) {\n          this.loadNextActivity(this.allActivities[i - 1], 'back');\n          break;\n        }\n      } else if (this.activityUniqueId == 'id') {\n        if (this.activity.id == this.allActivities[i].id) {\n          this.loadNextActivity(this.allActivities[i - 1], 'back');\n          break;\n        }\n      }\n    }\n  }\n\n  loadNextActivity(nextActivity, animationDirection) {\n    if(nextActivity) {\n      this.navCtrl.push(\"ActivityPage\", {\n        activity: nextActivity,\n        allActivities: this.allActivities,\n        uniqueId: this.activityUniqueId\n      }, { animate: true, animation: 'ios-transition', direction: animationDirection }).then(() => {\n        const index = this.viewCtrl.index;\n        this.navCtrl.remove(index);\n      });\n\n    }\n  }\n\n  activityIsNotFirst() {\n    if(this.allActivities)\n      return this.allActivities[0] !== this.activity;\n    return false;\n  }\n\n  activityIsNotLast() {\n    if(this.allActivities)\n      return this.allActivities[this.allActivities.length - 1] !== this.activity;\n    return false;\n  }\n\n  activityDoneForToday() {\n    this.activityProvider.setActivityCompletedForToday().then(result => {\n      this.dailyActivityCompleted = true;\n      if(!this.platform.is('core')) {\n        this.alert.displayToast(\"Η άσκηση για σήμερα καταγράφηκε\");\n      }\n    });\n  }\n\n  openLink(url) {\n    this.iab.create(url);\n  }\n\n\n  // tslint:disable-next-line:no-unused-variable\n  private share(activity) {\n    var options = {\n      message: 'ΔιΆνοια - δραστηριότητα: ' + activity.title + \"    \",\n      subject: 'ΔιΆνοια - δραστηριότητα: ' + activity.title,\n      url: activity.link,\n      chooserTitle: 'Κοινοποίηση με...'\n    };\n\n    this.socialSharing.shareWithOptions(options).then(result => {\n      console.log(result);\n      // if(result.completed)\n        //this.alert.displayToast(\"Η δραστηριοτητα κοινοποιηθηκε\");\n    }).catch(error => {\n      this.alert.textDialog(\"Error\", \"Αυτή η συσκευή δεν υποστηρίζει κοινοποίηση\");\n    });\n  }\n\n  swipeActivity(event) {\n    console.log(event.direction);\n    if(event.direction == 2) {\n      this.nextActivity();\n    } else if(event.direction == 4) {\n      this.previousActivity();\n    }\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activity/activity.ts"],"sourceRoot":""}