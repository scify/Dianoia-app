{"version":3,"sources":["../../src/pages/activity/activity.module.ts","../../src/pages/activity/activity.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ActivityPage } from './activity';\nimport {TranslateModule} from \"@ngx-translate/core\";\n\n@NgModule({\n  declarations: [\n    ActivityPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ActivityPage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    ActivityPage\n  ]\n})\nexport class ActivityPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activity/activity.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams, Platform, ViewController} from 'ionic-angular';\nimport {ActivityProvider} from \"../../providers/activity/activity\";\nimport {InAppBrowser} from '@ionic-native/in-app-browser';\nimport {AlertProvider} from \"../../providers/alert/alert\";\nimport {SocialSharing} from \"@ionic-native/social-sharing\";\nimport {TranslateService} from \"@ngx-translate/core\";\n\n/**\n * Generated class for the ActivityPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-activity',\n  templateUrl: 'activity.html',\n})\nexport class ActivityPage {\n  activity: any;\n  dailyActivityCompleted: boolean = false;\n  allActivities: any = [];\n  activityUniqueId: string;\n  currentLang: string = 'en';\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n              private activityProvider: ActivityProvider, private iab: InAppBrowser,\n              public platform: Platform, private alert: AlertProvider, private socialSharing: SocialSharing,\n              private viewCtrl: ViewController, private translate: TranslateService) {\n    let activityObj = this.navParams.get(\"activity\");\n    if (!activityObj) {\n      this.activityProvider.getRandomActivity().then(randomActivity => {\n        this.activity = randomActivity;\n      });\n    } else {\n      this.activity = activityObj;\n    }\n    this.allActivities = this.navParams.get(\"allActivities\");\n    this.activityUniqueId = this.navParams.get(\"uniqueId\");\n    this.translate.onLangChange.subscribe(() => {\n      this.setUpPageElements();\n    });\n  }\n\n  ionViewWillLoad() {\n    this.setUpPageElements();\n  }\n\n  setUpPageElements() {\n    this.currentLang = this.translate.currentLang;\n    this.activityProvider.getActivitiesByIds([this.activity.id]).then(activities => {\n      this.activity = activities[0];\n    });\n  }\n\n  nextActivity() {\n    for (let i = 0; i < this.allActivities.length; i++) {\n      if (this.activityUniqueId == 'title') {\n        if (this.activity.title == this.allActivities[i].title) {\n          this.loadNextActivity(this.allActivities[i + 1], 'forward');\n          break;\n        }\n      } else if (this.activityUniqueId == 'id') {\n        if (this.activity.id == this.allActivities[i].id) {\n          this.loadNextActivity(this.allActivities[i + 1], 'forward');\n          break;\n        }\n      }\n    }\n  }\n\n  previousActivity() {\n    for (let i = 0; i < this.allActivities.length; i++) {\n      if (this.activityUniqueId == 'title') {\n        if (this.activity.title == this.allActivities[i].title) {\n          this.loadNextActivity(this.allActivities[i - 1], 'back');\n          break;\n        }\n      } else if (this.activityUniqueId == 'id') {\n        if (this.activity.id == this.allActivities[i].id) {\n          this.loadNextActivity(this.allActivities[i - 1], 'back');\n          break;\n        }\n      }\n    }\n  }\n\n  loadNextActivity(nextActivity, animationDirection) {\n    if (nextActivity) {\n      this.navCtrl.push(\"ActivityPage\", {\n        activity: nextActivity,\n        allActivities: this.allActivities,\n        uniqueId: this.activityUniqueId\n      }, {animate: true, animation: 'ios-transition', direction: animationDirection}).then(() => {\n        const index = this.viewCtrl.index;\n        this.navCtrl.remove(index);\n      });\n\n    }\n  }\n\n  activityIsNotFirst() {\n    if (this.allActivities)\n      return this.allActivities[0] !== this.activity;\n    return false;\n  }\n\n  activityIsNotLast() {\n    if (this.allActivities)\n      return this.allActivities[this.allActivities.length - 1] !== this.activity;\n    return false;\n  }\n\n  activityDoneForToday() {\n    this.activityProvider.setActivityCompletedForToday().then(result => {\n      this.dailyActivityCompleted = true;\n      if (!this.platform.is('core')) {\n        this.translate.get('activity_done').subscribe((translated: string) => {\n          this.alert.displayToast(translated);\n        });\n      }\n    });\n  }\n\n  openLink(url) {\n    this.iab.create(url);\n  }\n\n\n  // tslint:disable-next-line:no-unused-variable\n  share(activity) {\n    this.translate.get('app_activity').subscribe((translated: string) => {\n      const options = {\n        message: translated + ': ' + activity.title + \"    \",\n        subject: translated + ': ' + activity.title,\n        url: activity.link,\n        chooserTitle: this.translate.instant('share_with') + '...'\n      };\n\n      this.socialSharing.shareWithOptions(options).then(result => {\n        // if(result.completed)\n        //this.alert.displayToast(\"Η δραστηριοτητα κοινοποιηθηκε\");\n      }).catch(error => {\n        this.alert.textDialog(this.translate.instant('error'), this.translate.instant('sharing_not_supported'));\n      });\n    });\n\n  }\n\n  swipeActivity(event) {\n    console.log(event.direction);\n    if (event.direction == 2) {\n      this.nextActivity();\n    } else if (event.direction == 4) {\n      this.previousActivity();\n    }\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/activity/activity.ts"],"sourceRoot":""}