<!--
  Generated template for the ActivityPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{ activity?.title }}</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>

  <ion-card (swipe)="swipeActivity($event)">

    <ion-card-content>
      <ion-row class="navigationContainer">
        <ion-col col-6 style="text-align: left">
          <button mode="ios" *ngIf="activityIsNotFirst()" class="activityNavigationBtn" no-padding ion-button icon-left
                  clear small (click)="previousActivity()">
            <ion-icon class="navLeft" name="ios-arrow-back"></ion-icon>
            <div>{{ 'previous' | translate }}</div>
          </button>
        </ion-col>
        <ion-col col-6 style="text-align: right">
          <button mode="ios" *ngIf="activityIsNotLast()" class="activityNavigationBtn" no-padding ion-button icon-left
                  clear small (click)="nextActivity()">
            <div>{{ 'next' | translate }}</div>
            <ion-icon class="navRight" name="ios-arrow-forward"></ion-icon>
          </button>
        </ion-col>
      </ion-row>
      <h2 class="activityTitle">{{ activity?.title }}</h2>
      <p class="activityBody">{{ activity?.description }}</p>
      <img class="activityImg" *ngIf="activity?.img_url" [src]="'assets/img/activities/' + currentLang + '/' + activity.img_url">
    </ion-card-content>
    <ion-list no-lines class="activityActionsContainer">
      <ion-item text-wrap *ngIf="activity?.link">
        <a *ngIf="activity?.link && platform.is('core')" href="{{ activity.link }}" target="_blank">
          <button ion-button icon-left clear small>
            <ion-icon name="ios-link"></ion-icon>
            <div>{{ 'see_activity' | translate }}</div>
          </button>
        </a>
        <button mode="ios" *ngIf="activity?.link && !platform.is('core')" ion-button icon-left clear small
                (click)="openLink(activity.link)">
          <ion-icon name="ios-link"></ion-icon>
          <div>{{ 'see_activity' | translate }}</div>
        </button>
      </ion-item>
      <ion-item text-wrap *ngIf="activity?.link && platform.is('cordova')">
        <button mode="ios" *ngIf="activity?.link" ion-button icon-left clear small (click)="share(activity)">
          <ion-icon name="ios-share-alt"></ion-icon>
          <div>{{ 'share_and_print' | translate }}</div>
        </button>
      </ion-item>
      <ion-item text-wrap *ngIf="activity?.help_link">
        <a *ngIf="activity?.help_link && platform.is('core')" href="{{ activity.help_link }}" target="_blank">
          <button mode="ios" ion-button icon-left clear small>
            <ion-icon name="ios-help-buoy"></ion-icon>
            <div>{{ 'more_info_help' | translate }}</div>
          </button>
        </a>
        <button mode="ios" *ngIf="activity?.help_link && !platform.is('core')" ion-button icon-left clear small
                (click)="openLink(activity.help_link)">
          <ion-icon name="ios-help-buoy"></ion-icon>
          <div>{{ 'more_info_help' | translate }}</div>
        </button>
      </ion-item>
      <ion-item text-wrap *ngIf="activity?.link && platform.is('cordova')">
        <button mode="ios" style="margin-bottom: 10px" *ngIf="activity?.id" clear ion-button icon-left small
                [disabled]="dailyActivityCompleted"
                (click)="activityDoneForToday()">
          <ion-icon name="thumbs-up"></ion-icon>
          <div>{{ 'activity_done_btn' | translate }}</div>
        </button>
      </ion-item>
    </ion-list>
  </ion-card>

</ion-content>
